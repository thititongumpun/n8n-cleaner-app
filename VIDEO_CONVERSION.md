# 🎬 Video Conversion: Vertical to Horizontal (1920x1080)

## 📐 การแปลงวิดีโอ

ระบบจะแปลงวิดีโอแนวตั้ง (9:16) เป็นแนวนอน (16:9) โดยอัตโนมัติ

### ต้นฉบับ → ผลลัพธ์

```
1080x1920 (แนวตั้ง 9:16)  →  1920x1080 (แนวนอน 16:9)
```

## 🎨 วิธีการแปลง: Scale + Pad

### ภาพประกอบ

```
ต้นฉบับ (1080x1920):          ผลลัพธ์ (1920x1080):
┌──────────┐                  ┌─────────────────────┐
│          │                  │ ■ ┌──────────┐ ■   │
│          │                  │ ■ │          │ ■   │
│  วิดีโอ  │      →          │ ■ │  วิดีโอ  │ ■   │
│  แนวตั้ง │                  │ ■ │  แนวตั้ง │ ■   │
│          │                  │ ■ └──────────┘ ■   │
│          │                  └─────────────────────┘
└──────────┘                  ■ = แถบดำ (black bars)
```

### ขั้นตอนการทำงาน

1. **Scale** - ย้อยขนาดวิดีโอให้พอดีกับความสูง 1080px
   - 1080x1920 → 607.5x1080 (เก็บ aspect ratio)

2. **Pad** - เพิ่มแถบดำข้างๆ ให้ครบ 1920px
   - 607.5x1080 → 1920x1080 (เพิ่มแถบดำซ้าย-ขวา)

## ⚙️ FFmpeg Settings

### Video Filter (vf)

```
scale=1920:1080:force_original_aspect_ratio=decrease,pad=1920:1080:(ow-iw)/2:(oh-ih)/2:black
```

**อธิบาย:**

- `scale=1920:1080` - ขนาดเป้าหมาย
- `force_original_aspect_ratio=decrease` - ย่อให้พอดี (ไม่ขยาย)
- `pad=1920:1080` - เพิ่ม padding ให้ครบขนาด
- `(ow-iw)/2` - วางตรงกลางแนวนอน
- `(oh-ih)/2` - วางตรงกลางแนวตั้ง
- `black` - สีแถบดำ

### Video Codec

```python
vcodec='libx264'      # H.264 codec (รองรับทุกอุปกรณ์)
preset='medium'       # ความเร็ว encoding (medium = สมดุล)
crf=23               # คุณภาพ (23 = คุณภาพดี)
```

**Preset Options:**

- `ultrafast` - เร็วที่สุด, ไฟล์ใหญ่
- `fast` - เร็ว
- `medium` - สมดุล (แนะนำ) ✅
- `slow` - ช้า, คุณภาพดี, ไฟล์เล็ก
- `veryslow` - ช้ามาก, คุณภาพดีที่สุด

**CRF (Constant Rate Factor):**

- `18` - คุณภาพสูงมาก (ไฟล์ใหญ่)
- `23` - คุณภาพดี (แนะนำ) ✅
- `28` - คุณภาพปานกลาง (ไฟล์เล็ก)

### Audio Codec

```python
acodec='aac'          # AAC codec (รองรับทุกอุปกรณ์)
audio_bitrate='128k'  # Bitrate 128 kbps (คุณภาพดี)
```

## 📊 ผลลัพธ์

### ข้อดี ✅

- ✅ ไม่บิดภาพ (เก็บ aspect ratio)
- ✅ เห็นภาพเต็มทั้งหมด (ไม่ครอป)
- ✅ รองรับทุกอุปกรณ์ (H.264 + AAC)
- ✅ คุณภาพดี (CRF 23)

### ข้อเสีย ⚠️

- ⚠️ มีแถบดำข้างๆ (ไม่เต็มจอ)
- ⚠️ ต้อง re-encode (ช้ากว่า copy)
- ⚠️ ไฟล์อาจใหญ่ขึ้น (ขึ้นอยู่กับ CRF)

## 🔧 ปรับแต่ง

### เปลี่ยนความเร็ว encoding

**เร็วขึ้น (ไฟล์ใหญ่ขึ้น):**

```python
preset='fast'  # หรือ 'ultrafast'
```

**ช้าลง (คุณภาพดีขึ้น, ไฟล์เล็กลง):**

```python
preset='slow'  # หรือ 'veryslow'
```

### เปลี่ยนคุณภาพ

**คุณภาพสูงขึ้น (ไฟล์ใหญ่ขึ้น):**

```python
crf=18  # คุณภาพสูงมาก
```

**ไฟล์เล็กลง (คุณภาพต่ำลง):**

```python
crf=28  # คุณภาพปานกลาง
```

### เปลี่ยนสีแถบดำ

**สีอื่นๆ:**

```python
# แทน ':black' ด้วย:
':white'   # สีขาว
':gray'    # สีเทา
':0x000000' # สีดำ (hex)
```

## 📝 ตัวอย่างการใช้งาน

### Input Files

```
news_2026-01-26_13-00-22.mp4        (1080x1920)
sanook_news_2026-01-26_09-05-24.mp4 (1080x1920)
sports_news_2026-01-26_09-03-22.mp4 (1080x1920)
```

### Output File

```
hotnews_2026-01-26.mp4 (1920x1080) ✅
```

**ผลลัพธ์:**

- ✅ ขนาด: 1920x1080 (แนวนอน)
- ✅ วิดีโอ: H.264, CRF 23
- ✅ เสียง: AAC, 128k
- ✅ มีแถบดำข้างๆ

## ⏱️ เวลาที่ใช้

**ประมาณการ (ขึ้นอยู่กับ CPU):**

- 1 นาทีวิดีโอ ≈ 30-60 วินาที encoding (preset=medium)
- 10 นาทีวิดีโอ ≈ 5-10 นาที encoding

**เร็วขึ้น:**

- ใช้ `preset='fast'` หรือ `preset='ultrafast'`
- ใช้ GPU encoding (ต้องติดตั้ง NVIDIA/AMD drivers)

## 🎉 สรุป

ระบบจะแปลงวิดีโอแนวตั้งเป็นแนวนอนอัตโนมัติ โดย:

- ✅ เก็บ aspect ratio (ไม่บิดภาพ)
- ✅ เพิ่มแถบดำข้างๆ
- ✅ คุณภาพดี (H.264 CRF 23)
- ✅ รองรับทุกอุปกรณ์

**ผลลัพธ์: วิดีโอแนวนอน 1920x1080 พร้อมใช้งาน!** 🎬✨
